!function(){var log_methods={error:5,warn:4,info:3,debug:2,log:1},send_data=function(opts){var img=document.createElement("img");img.src=opts.url+".gif?PLAINTEXT="+encodeURIComponent(opts.data)+"&DT="+encodeURIComponent(Date())},castor=function(opts){if(!opts.url)throw new Error("Please include a Loggly HTTP URL.");this.level=opts.level?log_methods[opts.level.toLowerCase()]:log_methods.info;var logger_factory=function(level_name){return function(data){if(log_methods[level_name]>=this.level){if("string"!=typeof data)try{data=JSON.stringify(data)}catch(error){}opts.data=data,send_data(opts)}}};for(name in log_methods)this[name]=logger_factory(name)};this.loggly?this.loggly.castor=castor:this.loggly={castor:castor}}(),function(){var Log;Log=function(options){var begin,castor,consoleLog,host,logLevel,prefix,_ref,_ref1,_ref2;return null==options&&(options={}),console.log("Log"),prefix=null!=(_ref=options.prefix)?_ref:"",logLevel=null!=(_ref1=options.level)?_ref1:0,begin=null!=(_ref2=options.begin)?_ref2:+new Date,consoleLog=function(txt,level){return null==level&&(level=1),logLevel>=level?console.log("["+(+new Date-begin)/1e3+"] "+txt):void 0},console.log("options.key: "+options.key),options.key&&(host="https:"===document.location.protocol?"https://logs.loggly.com":"http://logs.loggly.com",castor=new loggly.castor({url:""+host+"/inputs/"+options.key,level:"log"}),consoleLog=function(txt,level){var since;return null==level&&(level=1),since=(+new Date-begin)/1e3,logLevel>=level&&console.log("["+since+"] "+txt),1>=level?castor.log({url:window.location.href,username:USER.username,id:USER.id,stacktrace:printStackTrace(),msg:txt}):void 0}),{inspect:function(obj){return logLevel>=3?"undefined"!=typeof console&&null!==console?"function"==typeof console.dir?console.dir(obj):void 0:void 0:void 0},devel:function(txt){return consoleLog("DEVEL "+prefix+txt,4)},debug:function(txt){return consoleLog("DEBUG "+prefix+txt,3)},info:function(txt){return consoleLog("INFO  "+prefix+txt,2)},error:function(txt){return consoleLog("ERROR "+prefix+txt,1)},wrap:Log}},("undefined"!=typeof exports&&null!==exports?exports:this).Log=Log}.call(this);